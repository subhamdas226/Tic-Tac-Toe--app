{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { useEffect, useRef } from 'react';\nimport { Audio } from 'expo-av';\nimport * as Haptics from 'expo-haptics';\nfunction useSound() {\n  var popSoundRef = useRef(null);\n  var popSoundRef2 = useRef(null);\n  var winSoundRef = useRef(null);\n  var lostSoundRef = useRef(null);\n  var drawSoundRef = useRef(null);\n  useEffect(function () {\n    var popSoundObject = new Audio.Sound();\n    var popSoundObject2 = new Audio.Sound();\n    var winSoundObject = new Audio.Sound();\n    var lostSoundObject = new Audio.Sound();\n    var drawSoundObject = new Audio.Sound();\n    var loadSounds = function () {\n      var _ref = _asyncToGenerator(function* () {\n        yield popSoundObject.loadAsync(require(\"../../assets/pop_1.wav\"));\n        yield popSoundObject2.loadAsync(require(\"../../assets/pop_2.wav\"));\n        yield winSoundObject.loadAsync(require(\"../../assets/win.wav\"));\n        yield lostSoundObject.loadAsync(require(\"../../assets/loss.wav\"));\n        yield drawSoundObject.loadAsync(require(\"../../assets/draw.wav\"));\n        popSoundRef.current = popSoundObject;\n        popSoundRef2.current = popSoundObject2;\n        winSoundRef.current = winSoundObject;\n        lostSoundRef.current = lostSoundObject;\n        drawSoundRef.current = drawSoundObject;\n      });\n      return function loadSounds() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    loadSounds();\n    return function () {\n      popSoundObject && popSoundObject.unloadAsync();\n      popSoundObject2 && popSoundObject2.unloadAsync();\n      winSoundObject && winSoundObject.unloadAsync();\n      lostSoundObject && lostSoundObject.unloadAsync();\n      drawSoundObject && drawSoundObject.unloadAsync();\n    };\n  }, []);\n  var playSound = function () {\n    var _ref2 = _asyncToGenerator(function* (sound) {\n      var soundmap = {\n        pop1: popSoundRef,\n        pop2: popSoundRef2,\n        win: winSoundRef,\n        loss: lostSoundRef,\n        draw: drawSoundRef\n      };\n      try {\n        var _soundmap$sound$curre, _soundmap$sound$curre2;\n        var status = yield (_soundmap$sound$curre = soundmap[sound].current) == null ? void 0 : _soundmap$sound$curre.getStatusAsync();\n        status && status.isLoaded && ((_soundmap$sound$curre2 = soundmap[sound].current) == null ? void 0 : _soundmap$sound$curre2.replayAsync());\n        switch (sound) {\n          case \"pop1\":\n            break;\n          case \"pop2\":\n            Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);\n            break;\n          case \"win\":\n            Haptics.notificationAsync(Haptics.NotificationFeedbackType.Success);\n            break;\n          case \"loss\":\n            Haptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\n            break;\n          case \"draw\":\n            Haptics.notificationAsync(Haptics.NotificationFeedbackType.Warning);\n            break;\n          default:\n            break;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function playSound(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return playSound;\n}\nexport default useSound;","map":{"version":3,"names":["useEffect","useRef","Audio","Haptics","useSound","popSoundRef","popSoundRef2","winSoundRef","lostSoundRef","drawSoundRef","popSoundObject","Sound","popSoundObject2","winSoundObject","lostSoundObject","drawSoundObject","loadSounds","_ref","_asyncToGenerator","loadAsync","require","current","apply","arguments","unloadAsync","playSound","_ref2","sound","soundmap","pop1","pop2","win","loss","draw","_soundmap$sound$curre","_soundmap$sound$curre2","status","getStatusAsync","isLoaded","replayAsync","impactAsync","ImpactFeedbackStyle","Light","notificationAsync","NotificationFeedbackType","Success","Error","Warning","error","console","log","_x"],"sources":["F:/angular && app projects/Tic-Tac-Toe--app/src/utils/useSound.tsx"],"sourcesContent":["import { StyleSheet, Text, View } from 'react-native'\r\nimport React, { useEffect, useRef } from 'react'\r\nimport { Audio } from 'expo-av';\r\nimport * as Haptics from 'expo-haptics';\r\n\r\ntype soundType = \"pop1\" | \"pop2\" | \"win\" | \"draw\" | \"loss\"\r\n\r\nfunction useSound() : (sound : soundType)  => void {\r\n    const popSoundRef = useRef<Audio.Sound | null>(null);\r\n    const popSoundRef2 = useRef<Audio.Sound | null>(null);\r\n    const winSoundRef = useRef<Audio.Sound | null>(null);\r\n    const lostSoundRef = useRef<Audio.Sound | null>(null);\r\n    const drawSoundRef = useRef<Audio.Sound | null>(null);\r\n    \r\n    useEffect(()=>{\r\n        //load our sounds\r\n\r\n         const popSoundObject = new Audio.Sound();\r\n         const popSoundObject2 = new Audio.Sound();\r\n         const winSoundObject = new Audio.Sound();\r\n         const lostSoundObject = new Audio.Sound();\r\n         const drawSoundObject = new Audio.Sound();\r\n\r\n         \r\n         const loadSounds = async () =>{\r\n            await popSoundObject.loadAsync(require(\"@assets/pop_1.wav\"))\r\n            await popSoundObject2.loadAsync(require(\"@assets/pop_2.wav\"))\r\n            await winSoundObject.loadAsync(require(\"@assets/win.wav\"))\r\n            await lostSoundObject.loadAsync(require(\"@assets/loss.wav\"))\r\n            await drawSoundObject.loadAsync(require(\"@assets/draw.wav\"))\r\n            // popSoundObject.replayAsync()\r\n            popSoundRef.current = popSoundObject;\r\n            popSoundRef2.current = popSoundObject2;\r\n            winSoundRef.current = winSoundObject;\r\n            lostSoundRef.current = lostSoundObject;\r\n            drawSoundRef.current = drawSoundObject;\r\n         }\r\n         loadSounds();\r\n         \r\n        return () =>{\r\n            //unload sounds\r\n            popSoundObject && popSoundObject.unloadAsync();\r\n            popSoundObject2 && popSoundObject2.unloadAsync();\r\n            winSoundObject && winSoundObject.unloadAsync();\r\n            lostSoundObject && lostSoundObject.unloadAsync();\r\n            drawSoundObject && drawSoundObject.unloadAsync();\r\n        }\r\n\r\n    }, [])\r\n\r\n    const playSound = async(sound : soundType) : Promise<void> =>{\r\n        const soundmap = {\r\n            pop1: popSoundRef,\r\n            pop2: popSoundRef2,\r\n            win: winSoundRef,\r\n            loss: lostSoundRef,\r\n            draw: drawSoundRef,\r\n        }\r\n\r\n        try{\r\n            const status = await soundmap[sound].current?.getStatusAsync();\r\n            status && status.isLoaded && soundmap[sound].current?.replayAsync();\r\n\r\n            // soundmap[sound].current?.replayAsync();\r\n            \r\n            switch (sound) {\r\n                case \"pop1\":\r\n                    \r\n                    break;\r\n\r\n                case \"pop2\":\r\n                    Haptics.impactAsync(Haptics\r\n                        .ImpactFeedbackStyle.Light)\r\n                break;\r\n\r\n                case \"win\":\r\n                    Haptics.notificationAsync(Haptics\r\n                        .NotificationFeedbackType.Success)\r\n                break;\r\n\r\n                case \"loss\":\r\n                    Haptics.notificationAsync(Haptics\r\n                        .NotificationFeedbackType.Error)\r\n                break;\r\n\r\n                case \"draw\":\r\n                    Haptics.notificationAsync(Haptics\r\n                        .NotificationFeedbackType.Warning)\r\n                break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        catch(error){\r\n            console.log(error);\r\n            \r\n        }\r\n    }\r\n    \r\n  return playSound;\r\n}\r\n\r\n\r\nexport default useSound"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}